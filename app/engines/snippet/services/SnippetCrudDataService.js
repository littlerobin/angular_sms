angular.module("callburnApp").factory("SnippetCrudDataService",["$q",function($q){function makeInterval(start,end,step){if(step="undefined"!=typeof step?step:1,start=parseInt(start),end=parseInt(end),start>end){var item=start;start=end,end=item}for(var interval=[],i=start;i<=end;i+=step)interval.push(i<10?"0"+i:""+i);return interval}function getHoursAndMinutes(currentDay){var queue=$q.defer(),hours=[];return currentDay.forEach(function(item){var startHour=item.start.split(":")[0],endHour=item.end.split(":")[0],startMin=item.start.split(":")[1],endMin=item.end.split(":")[1],interval=[];if(interval=interval.concat(makeInterval(startHour,endHour)),interval.length>1)for(var i=0;i<interval.length;i++){var minObject={};0===i?minObject[interval[i]]={from:parseInt(startMin),to:59}:i===interval.length-1?minObject[interval[i]]={from:0,to:parseInt(endMin)}:minObject[interval[i]]={from:0,to:59},interval[i]=minObject}else{var minObject={};minObject[interval[0]]={from:parseInt(startMin),to:parseInt(endMin)},interval[0]=minObject}hours=hours.concat(interval)}),queue.resolve(hours),queue.promise}return{makeInterval:makeInterval,getHoursAndMinutes:getHoursAndMinutes}}]);