angular.module("callburnApp").controller("VideoTutorialController",["$scope","$rootScope","$state","$stateParams","Restangular","$sce","CallBournModal","$timeout",function($scope,$rootScope,$state,$stateParams,Restangular,$sce,CallBournModal,$timeout){$rootScope.currentActiveRoute="video",window.document.title=0===$scope.notSeenNotificationsCount?"Support - Callburn":"("+$scope.notSeenNotificationsCount+") Support - Callburn";var applyTranslations=function(){$scope.isLoaded=!1,setTimeout(function(){$scope.isLoaded=!0},100),$scope.supportVideos=[{selectView:$rootScope.trans("dashboard_dashboard_tutorial"),selectValue:"tutorial"},{selectView:$rootScope.trans("support_promotional"),selectValue:"promotional"}],$scope.videoSection=$scope.supportVideos[0].selectValue};$rootScope.$watch("currentLanguage",applyTranslations),$rootScope.$watch("isLangLoaded",applyTranslations),$scope.playVideo=function(key){var url=$scope.trustURL("https://www.youtube.com/embed/"+key+"?rel=0");CallBournModal.open({scope:{url:url},templateUrl:"/app/modals/video/video.html"},function(scope){},!0)},$scope.getThumbnail=function(key){return $scope.trustURL("https://i.ytimg.com/vi/"+key+"/sddefault.jpg")},$scope.hideSlider=!1,$rootScope.$watch("currentLanguage",function(newVal){$scope.hideSlider=!0}),$scope.locale=$rootScope.currentLanguage?$rootScope.currentLanguage:"en","db"==$scope.local&&($scope.local="en"),$scope.trustURL=function(url){return $sce.trustAsResourceUrl(url)},$scope.triggerChat=function(){angular.element(document).ready(function(){$crisp.push(["do","chat:toggle"])})},$scope.youtubeVideosConfig={asNavFor:".slider-nav",dots:!1,draggable:!1,mobileFirst:!1,arrows:!1,prevArrow:null,nextArrow:null,draggable:!1},$scope.youtubeVideosNavConfig={asNavFor:".slider-for",slidesToShow:2,slidesToScroll:1,dots:!1,infinite:!1,mobileFirst:!0,draggable:!0,prevArrow:null,nextArrow:null,focusOnSelect:!0,responsive:[{breakpoint:767,settings:{vertical:!0}},{breakpoint:319,settings:{vertical:!1}}]},$scope.youtubeVideosConfigCTC={asNavFor:".slider-navCTC",dots:!1,draggable:!1,mobileFirst:!1,arrows:!1,prevArrow:null,nextArrow:null,draggable:!1},$scope.youtubeVideosNavConfigCTC={asNavFor:".slider-forCTC",slidesToShow:2,slidesToScroll:1,dots:!1,infinite:!1,mobileFirst:!0,draggable:!0,prevArrow:null,nextArrow:null,focusOnSelect:!0,responsive:[{breakpoint:767,settings:{vertical:!0}},{breakpoint:319,settings:{vertical:!1}}]}}]);