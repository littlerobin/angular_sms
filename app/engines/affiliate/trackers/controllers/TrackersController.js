angular.module("callburnApp").controller("TrackersController",["$scope","$rootScope","$state","$stateParams",function($scope,$rootScope,$state,$stateParams){$rootScope.currentActiveRoute="trackers",$scope.trackers=[{id:1,name:"Facebook",url:"https://callburn.com/?ta=HwqeanDSA4123",count:34,money:5310,selected:!1,users:[{email:"andrea.lazzari@gmail.com",vmPrice:2310,smsPrice:0,ctcPrice:0},{email:"hakob.sharab@gmail.com",vmPrice:0,smsPrice:1200,ctcPrice:1700}]},{id:2,name:"Twitter",url:"https://callburn.com/?ta=ArgefAFWW122",count:12,money:2300,selected:!1,users:[{email:"aneeeeeedrea@gmail.com",vmPrice:2310,smsPrice:0,ctcPrice:0},{email:"aafaq.sharab@gmail.com",vmPrice:0,smsPrice:1200,ctcPrice:1700}]}],$scope.trackUsers=[],$scope.firstTracker=!1,$scope.createFirstTracker=function(){$scope.firstTracker=!0},$scope.selectTracker=function(id){$scope.trackers.forEach(function(item){item.id===id&&(item.selected?(item.selected=!1,$scope.trackUsers.forEach(function(userItem){if(userItem===item.users){var index=$scope.trackUsers.indexOf(item.users);$scope.trackUsers.splice(index,1)}})):(item.selected=!0,$scope.trackUsers.length?$scope.trackUsers.push(item.users):$scope.trackUsers=[item.users]))})}}]);